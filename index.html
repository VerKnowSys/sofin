<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Sofin : SOftware INstaller. Designed for BSD, DARWIN and LINUX." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Sofin</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/VerKnowSys/sofin">View on GitHub</a>

          <h1 id="project_title">Sofin</h1>
          <h2 id="project_tagline">SOftware INstaller. Designed for BSD, DARWIN and LINUX.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/VerKnowSys/sofin/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/VerKnowSys/sofin/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>Author:</h2>

<p>Daniel (dmilith) Dettlaff (dmilith [at] verknowsys.com)
I'm also on #freebsd and #scala.pl @ freenode IRC.</p>

<h2>Definition authors:</h2>

<ul>
<li>Daniel (dmilith) Dettlaff</li>
<li>Michał (tallica) Lipski</li>
</ul><h2>Contributors:</h2>

<ul>
<li>Michał (tallica) Lipski</li>
</ul><h2>Thanks:</h2>

<ul>
<li>Tymon (teamon) Tobolski (ideas of improvments)</li>
</ul><h2>About:</h2>

<p>This software is my way of how to get reliable, updatable, bundled, closed-dependency, secure and fully
customizable software for FreeBSD servers. Darwin (Mac OS X) support started with version &gt;=0.14.10. Linux support started with version &gt;=0.24.4.</p>

<h2>Features:</h2>

<ul>
<li>Designed to work on all *BSD, *Darwin, *Linux</li>
<li>User friendly, clean and clear colorful information. No magic. KISS, DRY, BDD driven development.</li>
<li>Simple, ~1k LOC solution, written in legacy /bin/sh shell scripting language.</li>
<li>Every "software" has own definition ("def" file) with defined flat dependency list and basic information.
Every definition is sh script itself (More in <a href="https://github.com/VerKnowSys/sofin/blob/master/definitions/skeleton.def.sample">skeleton.def</a> and <a href="https://github.com/VerKnowSys/sofin/blob/master/definitions/defaults.def">defaults.def</a>)</li>
<li>Supports selective application installation or from list. (By "install" param. More in <a href="https://github.com/VerKnowSys/sofin#examples">examples</a>).</li>
<li>Supports installation of user and system wide applications (more in <a href="https://github.com/VerKnowSys/sofin#examples">examples</a>).</li>
<li>Has simple flat dependency managment. Sofin architecture is flexible enough to bundle almost any mix of requirements in application bundle, if only it's supported by given software. No need to install tons of useless/ not needed dependencies just because software supports it.</li>
<li>Has simple way of creating "lists" of definitions to build. Just create a text file with your definitions in "lists/" directory, create/update definitions snapshot (using sofin-make-defs) and give that list filename to sofin as parameter (more in <a href="https://github.com/VerKnowSys/sofin#examples">examples</a>).</li>
<li>Software patches are supported out of the box. The only thing required is to put patches into "definitions/patches/definition_file_name_without_def_extension/" directory. Sofin will do the rest.</li>
<li>Software bundling. Every application is bundled separately with all dependencies in own root directory. The only external dependencies used by Sofin are those from base system. No other external dependencies allowed at all.</li>
<li>Uses definitions snapshots in "tar.gz" format, generated by "sofin-make-defs" script also available in this repository. Currently You need to manually put generated "defs.tar.gz" into remote repository (defined in MAIN_SOURCE_REPOSITORY variable).</li>
<li>Supports basic "marking" of status of installed applications/ dependencies to resume broken/ failed/ interrupted installation.</li>
<li>You may feel safe upgrading only <em>one</em> software bundle without headache of "how it affects rest of my software". No application bundle will affect any other. Ever.</li>
<li>Sofin is designed to not touch any part of system. The only exception is /etc/profile_sofin created after system wide software installation (/Software/) in ServeD system.</li>
<li>By default Sofin verbosity is limited to minimum. More detailed information is written to LOG file (located in /Software/.cache/install.log by default or /Users/USER_NAME/.cache/install.log)</li>
<li>Exports. Each app has own ROOT_DIR/exports/ with symlinks to exported software. Exported software are just simple symlinks used to generate PATH environment variable.</li>
<li>Sofin has own configuration file: <a href="https://github.com/VerKnowSys/sofin/blob/master/sofin.conf.sh">sofin.conf.sh</a> which is SH script itself.</li>
<li>Supports parallel builds by default (from version 0.24.5)</li>
<li>Supports custom callbacks executed in order as follows:
<code>APP_AFTER_UNPACK_CALLBACK (executed after software unpack process)</code>
<code>APP_AFTER_PATCH_CALLBACK (executed after software patch process)</code>
<code>APP_AFTER_CONFIGURE_CALLBACK (executed after software configuration process)</code>
<code>APP_AFTER_MAKE_CALLBACK (executed after software compilation process)</code>
<code>APP_AFTER_INSTALL_CALLBACK (executed after software installation process)</code>
Each callback can be sh function itself and to be called by name. Look into <a href="https://github.com/VerKnowSys/sofin/blob/master/definitions/sbt.def">sbt.def</a> for an example createLaunchScript().</li>
<li>Supports collisions between definitions through APP_CONFLICTS_WITH option since version 0.38.0. An example in <a href="https://github.com/VerKnowSys/sofin/blob/master/definitions/ruby.def">ruby.def</a>
</li>
</ul><h2>Examples:</h2>

<ul>
<li><p>Install all available software defined in a list called "all":
<code>sofin install all</code></p></li>
<li><p>Install one software from definition called "ruby.def" for current user:
<code>sofin install ruby</code></p></li>
<li><p>Install software list called "databases" for current user:
<code>sofin install databases</code></p></li>
<li><p>Upgrade application requirement: Xml in bundle Ruby as current user:
<code>sofin upgrade libxml2 ruby</code></p></li>
<li><p>Upgrade Ruby in Ruby bundle without recompiling all requirements (already compiled requirements will be reused):
<code>sofin upgrade ruby ruby</code></p></li>
<li><p>Show list of available software:
<code>sofin available</code></p></li>
<li><p>Show list of installed software:
<code>sofin fullinstalled</code> or <code>sofin installed</code></p></li>
<li><p>Export "ruby" binary from "Passenger" bundle: <code>sofin export ruby Passenger</code></p></li>
<li><p>Uninstall installed software "SomeApp"?
<code>sofin uninstall someApp</code></p></li>
<li><p>Create a list called "databases", with definitions: "postgresql" and "mysql", and install it with Sofin:
<code>cd Sofin</code>
<code>echo "postgresql\nmysql" &gt; lists/databases</code>
run <code>./push-definitions</code> to create a snapshot and upload it to Your remote respository.
run <code>sofin install databases</code></p></li>
</ul><h2>Differences from <a href="https://en.wikipedia.org/wiki/POSIX">POSIX</a> and <a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">FHS</a> standards:</h2>

<ul>
<li>Sofin provides a slightly different approach to shell PATH variable. By default user PATH variable is overriden to include APP-PREFIX/exports instead of default APP-PREFIX/(s)bin. After each successful software installation sofin will populate APP-PREFIX/exports with relative symlinks to existing binaries of bundle. Application exports are defined in "APP_EXPORTS" variable (available for any definition).</li>
<li>Sofin suggests empty /usr/local folder. It's caused by POSIX "shared nature" of /usr/local. Sofin was built against this rule to prevent cross requirements between prefixes (/opt/X11 is an exception on Darwin), and to make sure that each software is easily movable between machines with same architecture.</li>
<li>Each application has own "root" directory (Similar to Mac OS X software in *.app folders).</li>
<li>Each software bundle includes all dependencies of given software, hence application bundle requires more disk
space than it does with "old fasioned, system wide, shared software".</li>
</ul><h2>Pitfalls/ Limitations:</h2>

<ul>
<li>Windows isn't supported, but Sofin will run just fine everywhere after a couple of configuration fights.</li>
<li>Sofin is designed, tested and heavy supported under both 64bit: FreeBSD 9.1 and Darwin 12.2.0, but it should also work on any compliant architectures as well.</li>
<li>Currently all official Sofin software used by current definitions is mirrored only on <a href="http://software.verknowsys.com/source">software.verknowsys.com</a> and <a href="http://software.verknowsys.com/binary">software.verknowsys.com</a>.</li>
<li>Currently some definitions provided by Sofin include a couple of custom patches on software required by VerKnowSys ServeD © System. Patches (if any) usually come from current <a href="http://www.freebsd.org/ports/index.html">FreeBSD ports</a>.</li>
<li>Some definitions with X11 requirement will need <a href="http://xquartz.macosforge.org/landing/">XQuartz</a> installation. (Darwin hosts only).</li>
</ul><h2>Installation info (platform specific):</h2>

<ul>
<li>
<p>FreeBSD specific:</p>

<blockquote>
<ol>
<li> Install base 64bit system - I used 64bit FreeBSD 9.1 bootonly iso here.</li>
<li> Run as root: "fetch -o - <a href="https://github.com/VerKnowSys/sofin/archive/master.tar.gz">https://github.com/VerKnowSys/sofin/archive/master.tar.gz</a> | tar xf - &amp;&amp; cd ./sofin-master &amp;&amp; ./sofin-install". It will put "sofin" into /usr/bin/ and sofin.conf.sh into /etc/.</li>
<li> Build core software. Run "sofin install base" as root.</li>
<li> Start using sofin as regular user.</li>
</ol>
</blockquote>
</li>
<li>
<p>Darwin/ Mac OS X specific:</p>

<blockquote>
<ol>
<li> Install Mac OS X 10.8.</li>
<li> Install <a href="http://xquartz.macosforge.org/landing/">XQuartz</a> (if you want to build definitions that require X11)</li>
<li> Run "git clone git://github.com/VerKnowSys/sofin.git &amp;&amp; cd ./sofin &amp;&amp; sudo ./sofin-install". It will put "sofin" in /usr/bin/ and sofin.conf.sh in /etc/.</li>
<li> Build core software. Run "sudo sofin install base".</li>
<li> Start using sofin as regular user.</li>
</ol>
</blockquote>
</li>
<li>
<p>Debian specific: (Yes it's NOT Linux specific at all, cause every distro is a different monster with own set of additional hands and legs)</p>

<blockquote>
<ol>
<li> Install base 64bit system - I used 64bit Debian 6.0.x netinstall iso here.</li>
<li> To make base system "complete", run as root: "aptitude install gcc g++ bc patch make file libssl-dev build-essential kernel-package libmagic-dev unzip".</li>
<li> Run as root: "wget -qO- <a href="https://github.com/VerKnowSys/sofin/archive/master.tar.gz">https://github.com/VerKnowSys/sofin/archive/master.tar.gz</a> | tar zxf - &amp;&amp; cd ./sofin-master &amp;&amp; ./sofin-install". It will put "sofin" into /usr/bin/ and sofin.conf.sh into /etc/.</li>
<li> Build core software. Run as root: "sofin install base".</li>
<li> Start using sofin as regular user.</li>
</ol>
</blockquote>
</li>
</ul><h2>License:</h2>

<ul>
<li>Released under the <a href="http://opensource.org/licenses/BSD-2-Clause">BSD</a> license.</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Sofin maintained by <a href="https://github.com/VerKnowSys">VerKnowSys</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
