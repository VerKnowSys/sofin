load_sofin () {
    pfix="$1"

    # echo "- Facts"
    . ${pfix}share/sofin/facts/paths.fact
    . ${pfix}share/sofin/facts/shell.fact
    . ${pfix}share/sofin/facts/sofin.fact
    . ${pfix}share/sofin/facts/system.fact
    . ${pfix}share/sofin/facts/paths-${SYSTEM_NAME}.fact
    . ${pfix}share/sofin/facts/build.fact

    # echo "- Funs"
    . ${pfix}share/sofin/funs/core.fun
    . ${pfix}share/sofin/funs/validations.fun
    . ${pfix}share/sofin/funs/commons.fun
    . ${pfix}share/sofin/funs/envs.fun
    . ${pfix}share/sofin/funs/internals.fun
    . ${pfix}share/sofin/funs/cleaners.fun
    . ${pfix}share/sofin/funs/caches.fun
    . ${pfix}share/sofin/funs/definitions.fun

    # initial tasks
    setup_default_branch
    setup_default_repository
    env_reset
    check_os
    check_definition_dir
}

load_sofin
