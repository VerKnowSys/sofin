APP_FULL_NAME="Simple Build Tool"
APP_NAME="sbt"
APP_SHA="ce875b394293b9e6e26659624d9fb5918d52bc31"
APP_VERSION="0.12.2"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tar.bz2"
APP_CONFIGURE_SCRIPT="binary"
APP_AFTER_UNPACK_CALLBACK="${CP_BIN} -fR ${CACHE_DIR}cache/${APP_NAME}-${APP_VERSION}/${APP_NAME}-${APP_VERSION}/ ${PREFIX}"
APP_AFTER_CONFIGURE_CALLBACK="${FIND_BIN} ${PREFIX} -type f -name '*.dll' -o -name '*.exe' -o -name '*.bat' | ${XARGS_BIN} rm"
APP_AFTER_INSTALL_CALLBACK="createLaunchScript"
APP_EXPORTS="sbt"

createLaunchScript () {
  ${PRINTF_BIN} "#!/bin/sh

java \
-XX:+AggressiveOpts \
-Xms512M \
-Xmx1536M \
-Xss1M \
-XX:+CMSClassUnloadingEnabled \
-XX:MaxPermSize=384M \
${SBT_OPTS} -cp ${PREFIX}/bin/jansi.jar:${PREFIX}/bin/sbt-launch.jar xsbt.boot.Boot \"\$@\"
" > ${PREFIX}/bin/sbt
  ${CHMOD_BIN} +x ${PREFIX}/bin/sbt

}
