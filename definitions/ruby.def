APP_FULL_NAME="Ruby YARV 2.0"
APP_SHA="bd61b731d12ff4fd9d57f5d47bd2f9a2c4c007bf"
APP_NAME="ruby"
APP_VERSION="2.0.0-p0"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tar.bz2"
APP_CONFIGURE_ARGS="--enable-pthread --with-opt-dir=${PREFIX} --disable-install-doc --disable-install-rdoc"
if [ "${SYSTEM_NAME}" = "Darwin" ]; then
  export APP_CONFIGURE_ARGS="${APP_CONFIGURE_ARGS} --with-gcc=/usr/bin/clang"
else
  export APP_CONFIGURE_ARGS="${APP_CONFIGURE_ARGS} --with-gcc=${SOFTWARE_DIR}Clang/exports/clang"
fi
APP_REQUIREMENTS="zlib bzip2 libxml2 gmake libtool libgpg-error libgcrypt libxslt yaml libffi sqlite perl openssl readline"
APP_AFTER_INSTALL_CALLBACK="${PRINTF_BIN} 'gem: --no-ri --no-rdoc' > ${HOME}/.gemrc ; ${PREFIX}/bin/gem install bundler --force"
APP_EXPORTS="ruby gem irb ri rdoc erb rake bundle"
APP_CURRENT_VERSION="$(${CURL_BIN} http://www.ruby-lang.org/en/downloads/ 2>/dev/null | ${AWK_BIN} '/pub\/ruby/ {gsub(/ *<[^>]+> */, ""); print $2; exit}')"
APP_MAKE_METHOD="gmake -s ${MAKE_OPTS}"
APP_INSTALL_METHOD="gmake install -s ${MAKE_OPTS}"
APP_CONFLICTS_WITH="Rubinius Jruby Ruby-legacy"
