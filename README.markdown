## Author:
Daniel (dmilith) Dettlaff (dmilith [at] verknowsys.com)
I'm also on #freebsd and #scala.pl @ freenode IRC.


## About:
This software is my way of how to get reliable, updatable, bundled, closed-dependency and fully
customizable software for FreeBSD servers.

    
## Features:
* User friendly, clean and clear colorful information. No magic. KISS and DRY driven development.
* Simple, <500LOC solution, based on legacy /bin/sh shell scripting language.
* Designed to work on all *BSD, but currently maintained and tested on FreeBSD only (>= 9.0-STABLE).
* Every "software" has own definition ("def" file) with defined flat dependency list and basic data.
  Every definition is sh script itself (More in skeleton.def and defaults.def files)
* Supports selective application installation. (By "one" param. More in examples).
* Supports installation of user and system wide applications (more in examples).
* Simple flat dependency managment. It's flexible enough to bundle almost any mix of requirements in bundle.
* Simple way of creating "lists" of definitions to build. Just create a text file with your definitions in "lists/",
  directory, create/update definitions snapshot (using sofin-make-defs) and give that list filename to sofin
  as parameter. It's that simple (see examples).
* Software patches are supported automatically. The only thing required is to put patches into
  "definitions/patches/definition_file_name_without_def_extension/" directory. Sofin will do the rest.
* Every application is bundled separately with all dependencies in own root directory. The only external
  dependencies allowed are from base BSD system. No external dependencies allowed at all.
* Uses definitions snapshots in "tar.gz" format, generated by sofin-make-defs script also available in this repository.
  Currently You need to manually put generated "defs.tar.gz" into remote repository (specified in MAIN_SOURCE_REPOSITORY variable).
* Supports basic "marking" of status of installed applications/ dependencies to resume broken/ failed installation.
* You may feel safe upgrading only *one* software without headache of "how it affects rest of my software".
  No application will affect any other. Ever.
* Sofin is designed to not touch any part of system. The only exception is /etc/profile_sofin created after
  system wide software installation (/Software/)


## Examples:
* Install software defined in a list called "http" (by default it will install definitions from list into /Software/):
    `sofin http`
        
* Install one software from definition called "ruby.def" for user "dmilith" (by default it will point to /Users/dmilith/Apps/Ruby/):
    `sofin one dmilith ruby`
        
* Install software list called "databases" for user "dmilith" (by default it will point to /Users/dmilith/Apps/):
    `sofin user dmilith databases`

* Show list of installed software:
    `sofin list`

* Uninstall installed software? Just remove app directory:
    `rm -r /Software/AppName`
    or
    `rm -r /Users/USER/Apps/AppName`

* Give me "PATH" for all applications installed system wide (explained in pitfalls):
    `sofin getshellpath`

* Give me "PATH" for all applications of user "dmilith" (explained in pitfalls):
    `sofin getshellpath dmilith`

* Give me "LD_LIBRARY_PATH" for all applications of user "dmilith" (explained in pitfalls):
    `sofin getshellld dmilith`

* Create a list called "databases", with definitions: "postgresql" and "mysql", and install it with Sofin:
    `cd Sofin`
    `echo "postgresql\nmysql" > lists/databases`
    run `sofin-make-defs` to create a snapshot,
    put "defs.tar.gz" to location defined by "MAIN_SOURCE_REPOSITORY" (inside sofin script)
    run `sofin databases`


## Pitfalls/ Limitations:
* Sofin requires to be installed or symlinked to system default PATH location (/bin:/usr/bin or similar)
* Because every software bundle has own root dir, no ld information about libraries is provided by default
  by system, so software which uses shared libraries will require to have "LD_LIBRARY_PATH" set for linker.
  To generate this variable for currently installed software just run sofin with "getshellld" param.
  To get user side values give it additional param of user name (f.e. sofin getshellld username).
* To generate "PATH" variable from installed software use "getshellpath" param. To get user side values
  give it additional param of user name (f.e. sofin getshellpath username).
* Currently only "tar.gz" archives files are cached and supported. In case of using different archive
  type a failure will happen.
* Currently all software used by current definitions is mirrored on software.verknowsys.com/source
* Currently software.verknowsys.com repository is hardcoded into script. To maintain own definitions You may just
  fork and create own defs which I just merge into this repository or create own one somewhere.
* Currently any kind of sha/md5 checksumming isn't supported at all.
* After each system wide software installation Sofin updates "/etc/profile_sofin" with current "PATH" and "LD_LIBRARY_PATH",
  based on currently installed software in /Software. If You're using ZSH shell, just append ". /etc/profile_sofin" into
  Your zshrc file. If You're using bash, You'll achieve same thing by "source /etc/profile_sofin".
* Currently some definitions provided by Sofin include a couple of custom patches on software required
  by VerKnowSys ServeD Â© System. It *shouldn't* but **may** break the way how software works on different systems.


## License:
  Released under the BSD license.
